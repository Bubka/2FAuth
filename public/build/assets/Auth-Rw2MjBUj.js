import{_ as c}from"./AdminTabs-0IjDl3W3.js";import{a as h,a7 as D,a8 as k,r as E,a6 as N,o as w,d as C,j as a,e as m,k as f,L as F,l as n,m as O,t as g,f as s,aa as v,H as B}from"./app-TUxKuQ-n.js";import{u as r}from"./appSettingsUpdater-CoijmH3T.js";/*! 2FAuth version 5.6.1 - Copyright (c) 2025 Bubka - https://github.com/Bubka/2FAuth */const U={class:"options-tabs"},L={class:"title is-4 pt-4 has-text-grey-light"},x={class:"title is-4 pt-4 has-text-grey-light"},$={__name:"Auth",setup(I){const V=F("2fauth"),u=h(),t=D(),S=k(V.prefix+"returnTo","accounts"),d=E({restrictList:null,restrictRule:null});async function p(i,e){if(d.value[i]=null,e=="")v.delete(i,{returnError:!0}).then(o=>{t[i]="",u.success({type:"is-success",text:B("settings.forms.setting_saved")})}).catch(o=>{o.response.status!==404&&u.error(o)});else{const{error:o}=await r(i,e,!0);o&&(d.value[i]=o.response.data.message)}}return N(i=>{i.name.startsWith("admin.")||u.clear()}),w(async()=>{await t.fetch()}),(i,e)=>{const o=n("FormCheckbox"),b=n("FormField"),_=n("FormWrapper"),R=n("ButtonBackCloseCancel"),y=n("VueFooter");return O(),C("div",null,[a(c,{activeTab:"admin.auth"}),m("div",U,[a(_,null,{default:f(()=>[m("form",null,[m("h4",L,g(i.$t("admin.single_sign_on")),1),a(o,{modelValue:s(t).enableSso,"onUpdate:modelValue":[e[0]||(e[0]=l=>s(t).enableSso=l),e[1]||(e[1]=l=>s(r)("enableSso",l))],fieldName:"enableSso",label:"admin.forms.enable_sso.label",help:"admin.forms.enable_sso.help"},null,8,["modelValue"]),a(o,{modelValue:s(t).useSsoOnly,"onUpdate:modelValue":[e[2]||(e[2]=l=>s(t).useSsoOnly=l),e[3]||(e[3]=l=>s(r)("useSsoOnly",l))],fieldName:"useSsoOnly",label:"admin.forms.use_sso_only.label",help:"admin.forms.use_sso_only.help",isDisabled:!s(t).enableSso,isIndented:!0},null,8,["modelValue","isDisabled"]),a(o,{modelValue:s(t).allowPatWhileSsoOnly,"onUpdate:modelValue":[e[4]||(e[4]=l=>s(t).allowPatWhileSsoOnly=l),e[5]||(e[5]=l=>s(r)("allowPatWhileSsoOnly",l))],fieldName:"allowPatWhileSsoOnly",label:"admin.forms.allow_pat_in_sso_only.label",help:"admin.forms.allow_pat_in_sso_only.help",isDisabled:!s(t).useSsoOnly,isIndented:!0},null,8,["modelValue","isDisabled"]),m("h4",x,g(i.$t("admin.registrations")),1),a(o,{modelValue:s(t).restrictRegistration,"onUpdate:modelValue":[e[6]||(e[6]=l=>s(t).restrictRegistration=l),e[7]||(e[7]=l=>s(r)("restrictRegistration",l))],fieldName:"restrictRegistration",isDisabled:s(t).disableRegistration,label:"admin.forms.restrict_registration.label",help:"admin.forms.restrict_registration.help"},null,8,["modelValue","isDisabled"]),a(b,{modelValue:s(t).restrictList,"onUpdate:modelValue":e[8]||(e[8]=l=>s(t).restrictList=l),"onChange:modelValue":e[9]||(e[9]=l=>p("restrictList",l)),fieldError:s(d).restrictList,fieldName:"restrictList",isDisabled:!s(t).restrictRegistration||s(t).disableRegistration,label:"admin.forms.restrict_list.label",help:"admin.forms.restrict_list.help",isIndented:!0},null,8,["modelValue","fieldError","isDisabled"]),a(b,{modelValue:s(t).restrictRule,"onUpdate:modelValue":e[10]||(e[10]=l=>s(t).restrictRule=l),"onChange:modelValue":e[11]||(e[11]=l=>p("restrictRule",l)),fieldError:s(d).restrictRule,fieldName:"restrictRule",isDisabled:!s(t).restrictRegistration||s(t).disableRegistration,label:"admin.forms.restrict_rule.label",help:"admin.forms.restrict_rule.help",isIndented:!0,leftIcon:"slash",rightIcon:"slash"},null,8,["modelValue","fieldError","isDisabled"]),a(o,{modelValue:s(t).disableRegistration,"onUpdate:modelValue":[e[12]||(e[12]=l=>s(t).disableRegistration=l),e[13]||(e[13]=l=>s(r)("disableRegistration",l))],fieldName:"disableRegistration",label:"admin.forms.disable_registration.label",help:"admin.forms.disable_registration.help"},null,8,["modelValue"]),a(o,{modelValue:s(t).keepSsoRegistrationEnabled,"onUpdate:modelValue":[e[14]||(e[14]=l=>s(t).keepSsoRegistrationEnabled=l),e[15]||(e[15]=l=>s(r)("keepSsoRegistrationEnabled",l))],fieldName:"keepSsoRegistrationEnabled",isDisabled:!s(t).enableSso||!s(t).disableRegistration,label:"admin.forms.keep_sso_registration_enabled.label",help:"admin.forms.keep_sso_registration_enabled.help",isIndented:!0},null,8,["modelValue","isDisabled"])])]),_:1})]),a(y,{showButtons:!0},{default:f(()=>[a(R,{returnTo:{name:s(S)},action:"close"},null,8,["returnTo"])]),_:1})])}}};export{$ as default};
