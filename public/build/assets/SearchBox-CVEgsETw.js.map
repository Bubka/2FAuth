{"version":3,"file":"SearchBox-CVEgsETw.js","sources":["../../../resources/js/components/SearchBox.vue"],"sourcesContent":["<script setup>\n    const keyword = defineModel('keyword')\n    const props = defineProps({\n        hasNoBackground: {\n            type: Boolean,\n            default: false\n        },\n        placeholder: String,\n    })\n    const searchInput = ref(null)\n\n    onMounted(() => {\n        document.addEventListener('keydown', ctrlFHandler)\n        document.addEventListener('keypress', anyPrintableKeyHandler)\n    })\n\n    onUnmounted(() => {\n        document.removeEventListener('keydown', ctrlFHandler)\n        document.removeEventListener('keypress', anyPrintableKeyHandler)\n    })\n\n    /**\n     * Attach an event listen for ctrl+F\n     */\n    function ctrlFHandler(e) {\n        if (e.key === \"f\" && (e.ctrlKey || e.metaKey)) {\n            e.preventDefault()\n            searchInput.value?.focus()\n        }\n    }\n\n    /**\n     * Clear the search field\n     */\n    function clearSearch() {\n        keyword.value = ''\n    }\n\n    /**\n     * Attach an event listen for any key press to automatically focus on search\n     * without having to ctrl+F\n     */\n    function anyPrintableKeyHandler(e) {\n        if (e.key === 'Enter') {\n            return\n        }\n\n        keyword.value = e.key\n        searchInput.value?.setSelectionRange(1, 1)\n        searchInput.value?.focus()\n        e.preventDefault()\n    }\n</script>\n\n<template>\n    <div role=\"search\" class=\"field\">\n        <div class=\"control has-icons-right\">\n            <input\n                v-model=\"keyword\"\n                @keyup.esc.prevent=\"(event) => { clearSearch(); event.target.blur() }\"\n                @keyup.enter.prevent=\"(event) => event.target.blur()\"\n                @keypress.stop\n                ref=\"searchInput\"\n                id=\"txtSearch\"\n                type=\"search\"\n                tabindex=\"1\"\n                :aria-label=\"$t('commons.search')\"\n                :title=\"$t('commons.search')\"\n                :placeholder=\"placeholder\"\n                class=\"input is-rounded is-search\"\n                :class=\"{ 'has-no-background': hasNoBackground }\">\n            <span class=\"icon is-small is-right\">\n                <button type=\"button\" v-if=\"keyword != ''\" id=\"btnClearSearch\" tabindex=\"1\" :title=\"$t('commons.clear_search')\" class=\"clear-selection delete\" @click=\"clearSearch\"></button>\n                <FontAwesomeIcon v-else :icon=\"['fas', 'search']\" />\n            </span>\n        </div>\n    </div>\n</template>"],"names":["keyword","_useModel","__props","searchInput","ref","onMounted","ctrlFHandler","anyPrintableKeyHandler","onUnmounted","e","_a","clearSearch","_b"],"mappings":"oiBACI,MAAMA,EAAUC,EAAYC,EAAA,SAAS,EAQ/BC,EAAcC,EAAI,IAAI,EAE5BC,EAAU,IAAM,CACZ,SAAS,iBAAiB,UAAWC,CAAY,EACjD,SAAS,iBAAiB,WAAYC,CAAsB,CAC/D,CAAA,EAEDC,EAAY,IAAM,CACd,SAAS,oBAAoB,UAAWF,CAAY,EACpD,SAAS,oBAAoB,WAAYC,CAAsB,CAClE,CAAA,EAKD,SAASD,EAAaG,EAAG,OACjBA,EAAE,MAAQ,MAAQA,EAAE,SAAWA,EAAE,WACjCA,EAAE,eAAc,GAChBC,EAAAP,EAAY,QAAZ,MAAAO,EAAmB,QAE/B,CAKI,SAASC,GAAc,CACnBX,EAAQ,MAAQ,EACxB,CAMI,SAASO,EAAuBE,EAAG,SAC3BA,EAAE,MAAQ,UAIdT,EAAQ,MAAQS,EAAE,KAClBC,EAAAP,EAAY,QAAZ,MAAAO,EAAmB,kBAAkB,EAAG,IACxCE,EAAAT,EAAY,QAAZ,MAAAS,EAAmB,QACnBH,EAAE,eAAc,EACxB"}