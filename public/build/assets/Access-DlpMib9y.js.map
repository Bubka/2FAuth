{"version":3,"file":"Access-DlpMib9y.js","sources":["../../../resources/js/views/admin/logs/Access.vue"],"sourcesContent":["<script setup>\n    import AccessLogViewer from '@/components/AccessLogViewer.vue'\n    import userService from '@/services/userService'\n    import { useNotifyStore } from '@/stores/notify'\n    import { useBusStore } from '@/stores/bus'\n\n    const bus = useBusStore()\n    const router = useRouter()\n\n    onMounted(async () => {\n        getUser()\n    })\n\n    const props = defineProps({\n        userId: [Number, String]\n    })\n\n    const username = ref(bus.username ?? '')\n\n    /**\n     * Gets the user from backend\n     */\n    function getUser() {\n        userService.getById(props.userId, {returnError: true})\n        .then(response => {\n            username.value = response.data.info.name\n        })\n    }\n    \n</script>\n\n<template>\n    <ResponsiveWidthWrapper>\n        <h1 class=\"title has-text-grey-dark\">\n            {{ $t('titles.admin.logs.access') }}\n        </h1>\n        <div class=\"block is-size-7-mobile\">\n            {{ $t('admin.access_log_legend_for_user', { username: username }) }} (#{{ props.userId }})\n        </div>\n        <AccessLogViewer :userId=\"props.userId\" :lastOnly=\"false\" :showSearch=\"true\" :period=\"1\" />\n        <!-- footer -->\n        <VueFooter :showButtons=\"true\">\n            <ButtonBackCloseCancel :returnTo=\"{ name: 'admin.manageUser', params: { userId: props.userId }}\" action=\"back\" />\n            <ButtonBackCloseCancel :returnTo=\"{ name: 'accounts' }\" action=\"close\" />\n        </VueFooter>\n    </ResponsiveWidthWrapper>\n</template>\n"],"names":["bus","useBusStore","useRouter","onMounted","getUser","props","__props","username","ref","userService","response"],"mappings":"qeAMI,MAAMA,EAAMC,EAAW,EACRC,EAAS,EAExBC,EAAU,SAAY,CAClBC,EAAO,CACV,CAAA,EAED,MAAMC,EAAQC,EAIRC,EAAWC,EAAIR,EAAI,UAAY,EAAE,EAKvC,SAASI,GAAU,CACfK,EAAY,QAAQJ,EAAM,OAAQ,CAAC,YAAa,EAAI,CAAC,EACpD,KAAKK,GAAY,CACdH,EAAS,MAAQG,EAAS,KAAK,KAAK,IACvC,CAAA,CACT"}